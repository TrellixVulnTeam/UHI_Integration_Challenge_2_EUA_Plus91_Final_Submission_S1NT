{"version":3,"sources":["./src/app/pages/dashboard/collect-payment/collect-payment-routing.module.ts","./src/app/pages/dashboard/collect-payment/collect-payment.module.ts","./src/app/pages/dashboard/collect-payment/collect-payment.page.ts","./src/app/pages/dashboard/collect-payment/collect-payment.page.html"],"names":[],"mappings":"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","file":"src_app_pages_dashboard_collect-payment_collect-payment_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CollectPaymentPage } from './collect-payment.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CollectPaymentPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CollectPaymentPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CollectPaymentPageRoutingModule } from './collect-payment-routing.module';\n\nimport { CollectPaymentPage } from './collect-payment.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CollectPaymentPageRoutingModule\n  ],\n  declarations: [CollectPaymentPage]\n})\nexport class CollectPaymentPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ApiService } from 'src/app/services/api/api.service';\nimport { CommonService } from 'src/app/services/common/common.service';\n\n@Component({\n  selector: 'app-collect-payment',\n  templateUrl: './collect-payment.page.html',\n  styleUrls: ['./collect-payment.page.scss'],\n})\nexport class CollectPaymentPage implements OnInit {\n  public weekday = [\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"];\n  public monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n  public search_index: any;\n  public doctorInfo : any = [];\n  public blooked_slot: any;\n\n  constructor(\n    public _router: Router,\n    public _api: ApiService,\n    public _commonService: CommonService,\n    private activatedRoute: ActivatedRoute\n  ) {\n    this.search_index = parseInt(this.activatedRoute.snapshot.paramMap.get('id'));\n    if(this._commonService.transaction_id==null || this._commonService.transaction_id==undefined)\n    {\n      this._router.navigate([\"/dashboard/\"]);\n    }\n  }\n\n  ngOnInit() {\n    // console.log(this._commonService.searchResults.fulfillments[this.search_index]);\n\n    this._commonService.SOCKET.on('on_init', (data) => {\n      setTimeout(() => {\n        let start_time = new Date(this._commonService.searchResults.order.message.order.fulfillment.start.time.timestamp);\n        let end_time = new Date(this._commonService.searchResults.order.message.order.fulfillment.end.time.timestamp);\n        this.blooked_slot = this.weekday[start_time.getDay()]+\" \"+this.monthNames[start_time.getMonth()]+\" \"+(\"0\"+start_time.getDate()).slice(-2)+\", \"+(\"0\"+start_time.getHours()).slice(-2)+\":\"+(\"0\"+start_time.getMinutes()).slice(-2);\n      }, 500);\n    });\n\n    setTimeout(() => {\n      let start_time = new Date(this._commonService.searchResults.order.message.order.fulfillment.start.time.timestamp);\n      let end_time = new Date(this._commonService.searchResults.order.message.order.fulfillment.end.time.timestamp);\n      this.blooked_slot = this.weekday[start_time.getDay()]+\" \"+this.monthNames[start_time.getMonth()]+\" \"+(\"0\"+start_time.getDate()).slice(-2)+\", \"+(\"0\"+start_time.getHours()).slice(-2)+\":\"+(\"0\"+start_time.getMinutes()).slice(-2);\n    }, 3000);\n\n    // console.log(this._commonService.searchResults.order);\n    // var results = this._commonService.searchResults[this.search_index]\n    // console.log(results);\n\n    // this.doctorInfo.push({\n    //   service_provider: results.service_provider,\n    //   provider_id: results.provider_id,\n    //   doctor_name: results.doctor_name,\n    //   doctor_id: results.doctor_id,\n    //   doctor_gender: (results.doctor_gender).toLowerCase(),\n    //   doctor_img: results.doctor_image,\n    //   doctor_cred: results.doctor_cred,\n    //   doctor_service_type: results.doctor_service_type==\"NA\"?\"\":results.doctor_service_type,\n    //   doctor_service_category: results.doctor_service_category,\n    //   item_id: results.item_id,\n    //   quote: results.quote,\n    //   start: results.start,\n    //   end: results.end\n    // });\n\n    // console.log(this.doctorInfo);\n  }\n\n  // npx greenlock init --config-dir ./greenlock.d --maintainer-email 'shubham.bhadale@plus91.in'\n  // npx greenlock add --subject uhi-eua-socket.medixcel.in --altnames uhi-eua-socket.medixcel.in\n\n  confirm()\n  {\n    // console.log(this._commonService.searchResults.order.message.order.payment.uri);\n    // window.location.href = this._commonService.searchResults.order.message.order.payment.uri;\n    // return;\n    // console.log(this._commonService.searchResults.order);\n    let dataArr = this._commonService.searchResults.order.message.order;\n    dataArr[\"context\"] = this._commonService.searchResults.order.context;\n    var param = {\n      details: dataArr\n    }\n    // console.log(\"confirm\",param);\n    this._commonService.presentLoading();\n    this._api.confirm(param).subscribe((res: any) => {\n      console.log(res);\n      if(res.success && res.body.message.ack.status==\"ACK\")\n      {\n        this._router.navigate([\"/dashboard/confirm-booking\"]);\n      }\n    }, (err) => {\n      if (err) {\n        console.error(err);\n      }\n    });\n  }\n\n}\n","<ion-header [translucent]=\"true\">\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-menu-button></ion-menu-button>\n    </ion-buttons>\n    <ion-title>Book Appointment</ion-title>\n    <ion-buttons slot=\"secondary\">\n      <ion-back-button defaultHref=\"/dashboard/book-appointment\"></ion-back-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content [fullscreen]=\"true\">\n  <div class=\"container-fluid w-100 h-100 p-3\">\n    <ion-card class=\"m-0 b-0 mb-3\">\n      <ion-item class=\"border-0\" lines=\"none\">\n        <div class=\"h-100\" style=\"padding-top: 5px;padding-bottom: 5px;\">\n          <img [src]=\"this._commonService.searchResults.fulfillments[this.search_index].agent.gender=='M'?'assets/male-doctor.png':'assets/female-doctor.png'\" alt=\"\" style=\"width: 60px;margin: 5px 15px 5px 0px;border-radius: 100%;\">\n        </div>\n        <ion-label>\n          {{ this._commonService.searchResults.fulfillments[this.search_index].agent.name }}<br>\n          <span class=\"text-muted\">{{ this._commonService.searchResults.fulfillments[this.search_index].type }} / {{this._commonService.searchResults.fulfillments[this.search_index].items.descriptor.name}} {{this._commonService.searchResults.fulfillments[this.search_index].agent.tags[\"@abdm/gov/in/education\"]?\"/\"+this._commonService.searchResults.fulfillments[this.search_index].agent.tags[\"@abdm/gov/in/education\"]:\"\"}}</span><br>\n          <span style=\"color: #3880ff;\"><b>{{this._commonService.searchResults.fulfillments[this.search_index].agent.tags[\"@abdm/gov/in/hpr_id\"]}}</b></span><br *ngIf=\"this._commonService.searchResults.fulfillments[this.search_index].agent.tags['@abdm/gov/in/hpr_id']\">\n          <ion-card-subtitle>{{this._commonService.searchResults.fulfillments[this.search_index].agent.tags[\"@abdm/gov/in/languages\"]}}<br>{{this._commonService.searchResults.fulfillments[this.search_index].agent.tags[\"@abdm/gov/in/experience\"]}}</ion-card-subtitle>\n        </ion-label>\n      </ion-item>\n    </ion-card>\n\n    <div class=\"w-100 d-block\">\n      <span class=\"text-muted d-block fs-12\">Selected date and time for Teleconsultation</span>\n      <span class=\"d-block\">{{blooked_slot}}</span>\n    </div>\n\n    <div class=\"w-100 d-block mt-5\" *ngIf=\"_commonService.searchResults.order\">\n      <div class=\"mb-2\">\n        <span style=\"font-weight: 700;\">Billing Details</span>\n      </div>\n      <!-- <div class=\"d-flex justify-content-between\">\n        <span class=\"text-muted fs-14\">Consultation Fees</span>\n        <span>900</span>\n      </div>\n      <div class=\"d-flex justify-content-between\">\n        <span class=\"text-muted fs-14\">CGST(5%)</span>\n        <span>50</span>\n      </div>\n      <div class=\"d-flex justify-content-between\">\n        <span class=\"text-muted fs-14\">SGST(5%)</span>\n        <span>50</span>\n      </div>\n      <div class=\"d-flex justify-content-between\">\n        <span class=\"text-muted fs-14\">Registration Fees</span>\n        <span>400</span>\n      </div> -->\n\n      <div class=\"d-flex justify-content-between\" *ngFor=\"let quote of _commonService.searchResults.order.message.order.quote.quote.breakup\">\n        <span class=\"text-muted fs-14\">{{quote.title}}</span>\n        <span>{{quote.price.value}}</span>\n      </div>\n      <hr>\n      <div class=\"d-flex justify-content-between\" style=\"font-weight: 700;\">\n        <span class=\"fs-14 text-primary\">Total Payable</span>\n        <span class=\"text-primary\">Rs. {{_commonService.searchResults.order.message.order.quote.quote.price.value}}</span>\n      </div>\n    </div>\n\n    <div class=\"position-absolute bottom-0 start-0 d-block w-100 px-3\">\n      <ion-button expand=\"full\" (click)=\"confirm()\">Pay Now</ion-button>\n    </div>\n  </div>\n</ion-content>\n"],"sourceRoot":"webpack:///"}