{"version":3,"sources":["webpack:///src/app/pages/dashboard/book-appointment/book-appointment-routing.module.ts","webpack:///src/app/pages/dashboard/book-appointment/book-appointment.module.ts","webpack:///src/app/pages/dashboard/book-appointment/book-appointment.page.html","webpack:///src/app/pages/dashboard/book-appointment/book-appointment.page.ts"],"names":["routes","path","component","BookAppointmentPage","BookAppointmentPageRoutingModule","RouterModule","BookAppointmentPageModule","CommonModule","FormsModule","IonicModule","_router","_api","_commonService","doctorInfo","availableTimeSlots","transaction_id","undefined","get_onSearchData","get_onSelectData","sortTimeSLots","start_hh","start_mm","end_hh","end_mm","x","times","tt","i","hh","Math","floor","mm","console","log","end_min","end_hr","slice","k","push","param","subscribe","res","searchResults","data","forEach","hasOwnProperty","results","JSON","parse","request_body","status_code","message","catalog","providers","length","provider","fulfillments","fulfillment","isDoctorAlreadyAdded","doctor_id","person","id","expression","regex","RegExp","image","match","service_provider","descriptor","name","provider_id","hospital_name","doctor_name","doctor_gender","gender","toLowerCase","doctor_img","doctor_cred","cred","doctor_service_type","type","doctor_service_category","item_id","start_time","start","end_time","end","items","item","doctor","fulfillment_id","categories","category","category_id","err","error","order","fulfillmentData","agent","quote","element","dd","time"],"mappings":"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","file":"src_app_pages_dashboard_book-appointment_book-appointment_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { BookAppointmentPage } from './book-appointment.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BookAppointmentPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BookAppointmentPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BookAppointmentPageRoutingModule } from './book-appointment-routing.module';\n\nimport { BookAppointmentPage } from './book-appointment.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    BookAppointmentPageRoutingModule\n  ],\n  declarations: [BookAppointmentPage]\n})\nexport class BookAppointmentPageModule {}\n","<ion-header [translucent]=\"true\">\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-menu-button></ion-menu-button>\n    </ion-buttons>\n    <ion-title>Book Appointment</ion-title>\n    <ion-buttons slot=\"secondary\">\n      <ion-back-button defaultHref=\"/dashboard/search-results\"></ion-back-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content [fullscreen]=\"true\">\n  <ion-card *ngFor=\"let doctor of doctorInfo\">\n    <ion-item class=\"border-0\" lines=\"none\">\n      <div class=\"h-100\" style=\"padding-top: 5px;padding-bottom: 5px;\">\n        <img [src]=\"doctor.doctor_img!=null?doctor.doctor_img:doctor.doctor_gender=='male'?'assets/male-doctor.png':'assets/female-doctor.png'\" alt=\"\" style=\"width: 60px;margin: 5px 15px 5px 0px;border-radius: 100%;\">\n      </div>\n      <ion-label>\n        {{doctor.doctor_name}}<br>\n        <span class=\"text-muted\">{{doctor.doctor_service_type}}</span><br>\n        <!-- <span style=\"color: #3880ff;\"><b>doctor.hrp@hpr.abdm</b></span><br> -->\n        <!-- <ion-card-subtitle class=\"mt-2\">Marathi / Hindi / English<br>12 Yrs of Experience</ion-card-subtitle> -->\n      </ion-label>\n    </ion-item>\n    <ion-card-content class=\"m-0 p-2\">\n      <div class=\"d-flex flex-wrap justify-content-start\">\n        <span style=\"color: red; font-size: 18px; font-weight: 800;margin-left: 15px;\">{{doctor.quote.price.value}}/-<span style=\"font-size: 12px; font-weight:600;margin-left: 10px;color: var(--ion-color-primary);\">Medixcel</span></span>\n      </div>\n      \n    </ion-card-content>\n  </ion-card>\n\n  <div class=\"col-12 d-block\">\n    \n    <div class=\"d-block col-12\" style=\"padding: 10px;\">\n      <div class=\"col-5 mt-2\">\n        <div class=\"form\">\n          <select class=\"form-select bg-primary text-white\" id=\"servicesSelect\" aria-label=\"\">\n            <option class=\"bg-white text-dark\" selected>Select Date</option>\n            <option class=\"bg-white text-dark\" value=\"1\">Jul 15</option>\n            <option class=\"bg-white text-dark\" value=\"2\">Jul 16</option>\n            <option class=\"bg-white text-dark\" value=\"3\">Jul 17</option>\n          </select>\n        </div>\n      </div>\n      <div class=\"d-block col-12 mt-4\">\n        <span class=\"text-muted\">Please choose one time slot from below</span>\n      </div>\n      <div class=\"col-12 d-block mt-1\">\n        <ion-chip outline color=\"primary\" *ngFor=\"let timeSlot of availableTimeSlots\">\n          <ion-label>{{timeSlot[0]}} - {{timeSlot[1]}}</ion-label  >\n        </ion-chip>\n        <!-- <ion-chip outline color=\"primary\">\n          <ion-label>10:00 - 10:15</ion-label>\n        </ion-chip>\n        <ion-chip outline color=\"primary\">\n          <ion-label>10:00 - 10:15</ion-label>\n        </ion-chip>\n        <ion-chip outline color=\"primary\">\n          <ion-label>10:00 - 10:15</ion-label>\n        </ion-chip> -->\n\n      </div>\n    </div>\n\n  </div>\n\n  <div class=\"position-absolute bottom-0 d-block col-12\" style=\"padding: 10px;\">\n    <ion-button expand=\"full\">Book Now</ion-button>\n  </div>\n</ion-content>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ApiService } from 'src/app/services/api/api.service';\nimport { CommonService } from 'src/app/services/common/common.service';\n\n@Component({\n  selector: 'app-book-appointment',\n  templateUrl: './book-appointment.page.html',\n  styleUrls: ['./book-appointment.page.scss'],\n})\nexport class BookAppointmentPage implements OnInit {\n\n  public searchResults: any;\n  public doctorInfo : any = [];\n  public availableTimeSlots : any = [];\n\n  constructor(\n    public _router: Router,\n    public _api: ApiService,\n    public _commonService: CommonService\n  ) {\n    if(this._commonService.transaction_id==null || this._commonService.transaction_id==undefined)\n    {\n      this._commonService.transaction_id = \"71c2b1b4-0ef2-4068-a9fc-65e56a961d5e\";\n      // this._router.navigate([\"/dashboard/\"]);\n    }\n  }\n\n  ngOnInit() {\n    this.get_onSearchData();\n    this.get_onSelectData();\n\n    // var x = 15; //minutes interval\n    // var times = []; // time array\n    // var tt = 0; // start time\n    \n    // //loop to increment the time and push results in array\n    // for (var i=0;tt<2*60; i++) {\n    //   var hh = Math.floor(tt/60);\n    //   console.log(\"hh\",hh);\n    //   var mm = (tt%60);\n    //   console.log(\"mm\",mm);\n    //   times[i] = (\"0\" + (hh)).slice(-2) + ':' + (\"0\" + mm).slice(-2);\n    //   tt = tt + x;\n    // }\n    \n    // console.log(times);\n\n    this.sortTimeSLots(16,30,18,0);\n  }\n\n  sortTimeSLots(start_hh,start_mm,end_hh,end_mm)\n  {\n    var x = 15; //minutes interval\n    var times = []; // time array\n    var tt = start_mm; // start time\n    \n    //loop to increment the time and push results in array\n    for (var i=0;tt<24*60; i++) {\n      var hh = Math.floor(tt/60);\n      var mm = (tt%60);\n      if(hh>=start_hh && hh<=end_hh)\n      {\n        if(hh==start_hh && mm>=start_mm)\n        {\n          console.log(hh,mm)\n          // console.log(\"hh\",hh,start_hh);\n          // console.log(\"mm\",mm,start_mm);\n          // mm = (mm+x>=60)?0:mm+x;\n          // times[i] = [(\"0\" + (hh)).slice(-2) + ':' + (\"0\" + mm).slice(-2),(\"0\" + (hh)).slice(-2) + ':' + (\"0\" + mm).slice(-2)];\n          var end_min = mm+x;\n            var end_hr = hh;\n            if(end_min>=60)\n            {\n              end_hr+=1;\n              end_min = 0;\n            }\n            times[i] = [(\"0\" + (hh)).slice(-2) + ':' + (\"0\" + mm).slice(-2),(\"0\" + (end_hr)).slice(-2) + ':' + (\"0\" + end_min).slice(-2)];\n        }\n        else if(hh>start_hh)\n        {\n          if(hh==end_hh && mm<end_mm)\n          {\n            console.log( \"3\",hh,mm);\n            // console.log(\"hh\",hh,start_hh);\n            // console.log(\"mm\",mm,start_mm);\n            // mm = (mm+x>=60)?0:mm+x;\n            var end_min = mm+x;\n            var end_hr = hh;\n            if(end_min>=60)\n            {\n              end_hr+=1;\n              end_min = 0;\n            }\n            times[i] = [(\"0\" + (hh)).slice(-2) + ':' + (\"0\" + mm).slice(-2),(\"0\" + (end_hr)).slice(-2) + ':' + (\"0\" + end_min).slice(-2)];\n          }\n          else if(hh<end_hh)\n          {\n            console.log( \"2\",hh,mm);\n            // console.log(\"hh\",hh,start_hh);\n            // console.log(\"mm\",mm,start_mm);\n            // mm = (mm+x>=60)?0:mm+x;\n            // times[i] = [(\"0\" + (hh)).slice(-2) + ':' + (\"0\" + mm).slice(-2),(\"0\" + (hh)).slice(-2) + ':' + (\"0\" + mm).slice(-2)];\n            var end_min = mm+x;\n            var end_hr = hh;\n            if(end_min>=60)\n            {\n              end_hr+=1;\n              end_min = 0;\n            }\n            times[i] = [(\"0\" + (hh)).slice(-2) + ':' + (\"0\" + mm).slice(-2),(\"0\" + (end_hr)).slice(-2) + ':' + (\"0\" + end_min).slice(-2)];\n          }\n        }\n        // times[i] = (\"0\" + (hh)).slice(-2) + ':' + (\"0\" + mm).slice(-2);\n        // this.availableTimeSlots[i] = (\"0\" + (hh)).slice(-2) + ':' + (\"0\" + mm).slice(-2);\n      }\n      tt = tt + x;\n    }\n\n    for(var k in times)\n    {      \n      this.availableTimeSlots.push(times[k]);\n    }\n    \n    console.log(this.availableTimeSlots);\n    // return times;\n  }\n\n  get_onSearchData()\n  {\n    let param = {\n      \"transaction_id\": this._commonService.transaction_id\n    }\n    // console.log(\"get_onSearchData\",param);\n    this._api.get_onSearchData(param).subscribe((res: any) => {\n      // console.log(\"get_onSearchData res\");\n      // console.log(res);\n      this.searchResults = [];\n      res.data.forEach(data => {\n        if(data.hasOwnProperty(\"request_body\"))\n        {\n          var results = JSON.parse(data.request_body);\n          console.log(results);\n          if(results.status_code==200 && results.hasOwnProperty(\"context\") && results.hasOwnProperty(\"message\") && results.message.hasOwnProperty(\"catalog\") && results.message.catalog.hasOwnProperty(\"providers\") && (results.message.catalog.providers).length>0)\n          {\n            (results.message.catalog.providers).forEach(provider => {\n              provider.fulfillments.forEach(fulfillment => {\n                var isDoctorAlreadyAdded = false;\n                for(var i=0; i<(this.searchResults).length;i++)\n                {\n                  if(this.searchResults[i].doctor_id == fulfillment.person.id)\n                  {\n                    isDoctorAlreadyAdded = true;\n                    break;\n                  }\n                };\n                if(!isDoctorAlreadyAdded)\n                {\n                  var expression = /[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)?/gi;\n                  var regex = new RegExp(expression);\n                  if(!fulfillment.person.image.match(regex)) {\n                    fulfillment.person.image = \"\";\n                  }\n                  this.searchResults.push({\n                    service_provider: results.message.catalog.descriptor.name,\n                    provider_id: provider.id,\n                    hospital_name: provider.descriptor.name,\n                    doctor_name: fulfillment.person.name,\n                    doctor_id: fulfillment.person.id,\n                    doctor_gender: (fulfillment.person.gender).toLowerCase(),\n                    doctor_img: fulfillment.person.image,\n                    doctor_cred: fulfillment.person.cred,\n                    doctor_service_type: fulfillment.type==\"NA\"?\"\":fulfillment.type,\n                    doctor_service_category: \"\",\n                    item_id: null,\n                    start_time: fulfillment.start,\n                    end_time: fulfillment.end\n                  });\n                }\n              });\n\n              provider.items.forEach(item => {\n                this.searchResults.forEach(doctor => {\n                  if(doctor.doctor_id==item.fulfillment_id)\n                  {\n                    provider.categories.forEach(category => {\n                      if(category.id==item.category_id)\n                      {\n                        doctor.doctor_service_category = category.descriptor.name==\"NA\"?\"\":category.descriptor.name;\n                        doctor.item_id = item.id;\n                      }\n                    });\n                  }\n                });\n\n              });\n            });\n          }\n        }\n      });\n      // console.log(this.searchResults);\n    }, (err) => {\n      if (err) {\n        console.error(err);\n      }\n    })\n  }\n\n  get_onSelectData()\n  {\n    let param = {\n      \"transaction_id\": this._commonService.transaction_id\n    }\n    this._api.get_onSelectData(param).subscribe((res: any) => {\n      // console.log(res);\n      res.data.forEach(data => {\n        if(data.hasOwnProperty(\"request_body\"))\n        {\n          var results = JSON.parse(data.request_body);\n          // console.log(results);\n\n          this.doctorInfo = [];\n          if(results.status_code==200 && results.hasOwnProperty(\"context\") && results.hasOwnProperty(\"message\") && results.message.hasOwnProperty(\"order\") && results.message.order.hasOwnProperty(\"provider\"))\n          {\n            // console.log(\"------------->1\");\n            \n            // (results.message.order.provider).forEach(providerData => {\n            // console.log(\"------------->2\");\n            results.message.order.fulfillment.forEach(fulfillmentData => {\n              console.log(\"------------->3\");\n\n              var expression = /[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)?/gi;\n              var regex = new RegExp(expression);\n              // if(fulfillmentData.person.image!=null && !fulfillmentData.person.image.match(regex)) {\n              //   fulfillmentData.person.image = \"\";\n              // }\n\n              if(fulfillmentData.agent.image!=null && !fulfillmentData.agent.image.match(regex)) {\n                fulfillmentData.agent.image = \"\";\n              }\n\n              this.doctorInfo.push({\n                service_provider: results.message.order.provider.descriptor.name,\n                // provider_id: providerData,\n                // hospital_name: providerData, //.descriptor.name,\n                doctor_name: fulfillmentData.agent.name,\n                doctor_id: fulfillmentData.agent.id,\n                doctor_gender: (fulfillmentData.agent.gender).toLowerCase(),\n                doctor_img: fulfillmentData.agent.image,\n                doctor_cred: fulfillmentData.agent.cred,\n                doctor_service_type: fulfillmentData.type==\"NA\"?\"\":fulfillmentData.type,\n                doctor_service_category: \"\",\n                item_id: null,\n                quote: null\n              });\n            });\n\n            results.message.order.items.forEach(item => {\n              this.doctorInfo.forEach(doctor => {\n                if(doctor.doctor_id==item.fulfillment_id)\n                {\n                  doctor.item_id = item.id\n                  // results.message.order.categories.forEach(category => {\n                  //   if(category.id==item.category_id)\n                  //   {\n                  //     doctor.doctor_service_category = category.descriptor.name==\"NA\"?\"\":category.descriptor.name;\n                  //     doctor.item_id = item.id;\n                  //   }\n                  // });\n                }\n              });\n            });\n\n            this.doctorInfo[0].quote=results.message.order.quote;\n            \n            this.searchResults.forEach(element => {\n              if(element.doctor_id==this.doctorInfo[0].doctor_id)\n              {\n                this.doctorInfo[0].dd = element;\n\n                if(element.start_time)\n                {\n                  console.log(element.start_time.time);\n                  // console.log()\n                }\n              }\n            });\n            console.log(this.doctorInfo);\n          }\n        }\n      })\n    }, (err) => {\n      if (err) {\n        console.log(err);\n      }\n    })\n  }\n\n}\n"]}